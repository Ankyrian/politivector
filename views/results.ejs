<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Politivector</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/results/results.css">

    <script src="scripts/_menu.js" defer></script>
    <script src="scripts/_language.js" defer></script>
    <script src="scripts/_variant_font.js" defer></script>
</head>
<body>
    <div class="grid-container">
        <header id="nav">
            <div id="logo-container">
                <%- include("partials/home_icon_partial.ejs") %>
                <p id="type-logo">politivector</p>
            </div>
            <svg id="menu-icon" viewBox="0 0 24 24" fill="var(--clr-text-primary)" class="closed">
                <rect class="line top" x="3" y="6" width="18" height="2" rx=".95" ry=".95"></rect>
                <rect class="line middle" x="3" y="11" width="18" height="2" rx=".95" ry=".95"></rect>
                <rect class="line bottom" x="3" y="16" width="18" height="2" rx=".95" ry=".95"></rect>
            </svg>
        </header>
        <div id="menu">
            <ul id="menu-list">
                <li><a class="link" href="/"><%= __("menu-home") %></a></li>
                <li><a class="link" href="/plans"><%= __("menu-future-plans") %></a></li>
                <li>
                    <div id="language-selector" data-locale="<%- getLocale() %>" data-path="/results">
                        <!-- Generated by JS -->
                    </div>
                </li>
            </ul>
        </div>
        <div id="content">
            <h1 class="semi-bold"><%= __("results") %></h1>
            <div id="panel">
                <% let [scoresMap, renderOrder] = resultsHandler.generateScoresMap(resultsQuery); %>
                <% renderOrder.forEach(element => { %>
                    <% let percentagesArr =
                            resultsHandler.calculateScorePercentages(scoresMap[element[0]], scoresMap[element[1]]); %>
                    <%- include("partials/dimension_partial.ejs", {
                    leftDimension: dimensions[element[0]],
                    rightDimension: dimensions[element[1]],
                    leftPercent: percentagesArr[0],
                    neutralPercent: percentagesArr[1],
                    rightPercent: percentagesArr[2]
                    }) %>
                <% }); %>
            </div>
        </div>
    </div>
    <footer>
        <div id="footer">
            <div class="footer-list">
                <div class="footer-item"><a href="/" class="semi-bold"><%= __("footer-home") %></a>
                    <a href="/#features"><%= __("footer-home-features") %></a>
                    <a href="/#info"><%= __("footer-home-information") %></a>
                    <a href="/#goals"><%= __("footer-home-goals") %></a>
                </div>
                <div class="footer-item">
                    <a href="/plans" class="semi-bold"><%= __("footer-plans") %></a>
                    <a href="/plans#questions"><%= __("footer-plans-questions") %></a>
                    <a href="/plans#data"><%= __("footer-plans-data") %></a>
                    <a href="/plans#results"><%= __("footer-plans-results") %></a>
                </div>
                <div class="footer-item">
                    <p class="semi-bold"><%= __("footer-test") %></p>
                    <a href="/start?test=complete"><%= __("footer-test-complete") %></a>
                    <a href="/start?test=basic"><%= __("footer-test-basic") %></a>
                </div>
            </div>
            <div class="feedback-box">
                <label for="feedback" class="semi-bold"><%= __("footer-feedback-title") %></label>
                <form action="" method="post">
                    <textarea id="feedback"></textarea>
                    <input type="button" name="submit-feedback" value="<%= __("footer-feedback-submit") %>" class="button secondary"></form>
            </div>
        </div>
    </footer>
</body>
</html>